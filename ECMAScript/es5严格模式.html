<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //现在浏览器基于es3.0的方法 + es5.0的方法使用的
        // es3.0和es5.0 产生冲突的部分
        //es5.0严格模式 es5.0与es3.0产生冲突的时候就是用es5.0负责就是用es3.0

        //es5.0严格模式的启动
        // "use strict";
        //需要写道逻辑的最顶端，当然也可以写入函数最顶端，意思这个函数采用严格es5.0模式
        //推荐使用局部函数里面
        function test() {
            "use strict";
            console.log(arguments.callee);  //es3.0可以使用，但是es5.0不行
        }
        test();  //报错TypeError类型错误，这就是es5.0的严格模式




        //es5.0严格模式  

        //首先不允许用
        var obj = {
            name: "obj"
        }
        var name = "window";
        function test() {
            var name = "scope";
            //改变作用域链
            with (obj) { //会把这个对象当作with要执行的作用域链的最顶端
                console.log(name);//obj    
            }
        }

        //但是  但是with过于强大会更改作用域链会让系统内核消耗过度，降低效率
        // es5.0严格模式下，变量赋值前必须声明

        // es5.0严格模式下this
        function test () {
            "use strict";
            console.log(this);  
            //在es3.0的时候预编译指向的是window，在严格模式下知识undefined，所以es5.0规定在局部的this预编译的时候this为空
        }

        function test1 (name, name){
            "use strict";
            console.log(name);   //在es3.0中重复的参数不会报错
            //但是  在es5.0会报错 
        }
        test(1, 2)


        "use strict";
        //es3.0 都不能使用eval() eval是魔鬼 它改变作用域的本事比with还强大
        var a = 123;
        eval("console.log(a)") //123 可以把字符串当作代码来执行
    </script>
</body>

</html>